{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title></title>

    <!-- external links for typefaces -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">


    <!-- elements -->
    <link href="{% static 'vote/css/elements/body.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vote/css/elements/root.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vote/css/elements/link.css' %}" rel="stylesheet" type="text/css"/>

    <!-- components -->
    <link href="{% static 'vote/css/components/voting.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vote/css/components/candidates-row.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vote/css/components/candidates-form.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vote/css/components/vote-summary.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'vote/css/components/read_more-modal.css' %}" rel="stylesheet" type="text/css"/>

    <!-- scripts -->
    <script src="{% static 'vote/js/abstain.js' %}" type="text/javascript"></script>
    <script src="{% static 'vote/js/vote_modal.js' %}" type="text/javascript"></script>
    <script src="{% static 'vote/js/read_more-modal.js' %}" type="text/javascript"></script>

</head>
<body>
<div id="voting-container">
    <div id="voter-column">
        <div class="voter-label">
            Name
        </div>
        <div class="voter-info" id="voter-name">
            {{ user.first_name }} {{ user.last_name }}
        </div>

        <div class="voter-label">
            ID Number
        </div>
        <div class="voter-info" id="voter-od">
            {{ user.username }}
        </div>

        {% comment %}        <div class="voter-label">
            Your Votes
        </div>
        <div class="voter-info" id="voter-progress">
            1/3
        </div>{% endcomment %}
    </div>
    <div id="candidates-column">
        {# TODO: Revise once voting is available #}
        <form id="vote" method="POST" action="">
            {% csrf_token %}
            {% if batch_board %}
                <div class="candidate-category">
                    BATCH
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Batch President
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(1)">Abstain</button>
                    </div>
                    {% for candidate in batch_board %}
                        {% if candidate.position.name|lower == 'batch president' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="batch-president"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="batch-president-{{ forloop.counter }}">
                                <label for="batch-president-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Batch Vice President
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(2)">Abstain</button>
                    </div>
                    {% for candidate in batch_board %}
                        {% if candidate.position.name|lower == 'batch vice president' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="batch-vice-president"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="batch-vice-president-{{ forloop.counter }}">
                                <label for="batch-vice-president-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Legislative Assembly Representative
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(3)">Abstain</button>
                    </div>
                    {% for candidate in batch_board %}
                        {% if candidate.position.name|lower == 'la representative' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="legislative-assembly-representative"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="legislative-assembly-representative-{{ forloop.counter }}">
                                <label for="legislative-assembly-representative-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}
            {% if college_board %}
                <div class="candidate-category">
                    COLLEGE
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        College President
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(4)">Abstain</button>
                    </div>
                    {% for candidate in college_board %}
                        {% if candidate.position.name|lower == 'college president' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="college-president"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="college-president-{{ forloop.counter }}">
                                <label for="college-president-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}
            {% if executive_board %}
                <div class="candidate-category">
                    EXECUTIVE BOARD
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        President
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(5)">Abstain</button>
                    </div>
                    {% for candidate in executive_board %}
                        {% if candidate.position.name|lower == 'president' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="president"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="president-{{ forloop.counter }}">
                                <label for="president-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Vice President for Internal Affairs
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(6)">Abstain</button>
                    </div>
                    {% for candidate in executive_board %}
                        {% if candidate.position.name|lower == 'vice president for internal affairs' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="vice-president-internal"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="vice-president-internal-{{ forloop.counter }}">
                                <label for="vice-president-internal-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Vice President for External Affairs
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(7)">Abstain</button>
                    </div>
                    {% for candidate in executive_board %}
                        {% if candidate.position.name|lower == 'vice president for external affairs' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="vice-president-external"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="vice-president-external-{{ forloop.counter }}">
                                <label for="vice-president-external-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Secretary
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(8)">Abstain</button>
                    </div>
                    {% for candidate in executive_board %}
                        {% if candidate.position.name|lower == 'secretary' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="secretary"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="secretary-{{ forloop.counter }}">
                                <label for="secretary-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
                <div class="candidates-row clearfix">
                    <div class="candidate-position">
                        Treasurer
                        <button type="button" id="abstain-1" class="abstain" onclick="abstain(9)">Abstain</button>
                    </div>
                    {% for candidate in executive_board %}
                        {% if candidate.position.name|lower == 'treasurer' %}
                            <div class="candidate">
                                <img src="{% static 'vote/assets/svg/user.svg' %}" class="candidate-img"/>
                                <div class="candidate-name">{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}</div>
                                <div class="candidate-party">
                                    {% if candidate.party %}{{ candidate.party.name }}{% else %}
                                        Independent{% endif %}</div>
                                <div class="candidate-response">
                                    <a id="response-{{ forloop.counter }}"
                                       onclick="hintBrowser('{{ csrf_token }}', {{ candidate.id }})"
                                       class="response-link button-read">Read the
                                        response
                                        >></a>
                                </div>
                                <input type="radio" name="treasurer"
                                       value="{{ candidate.id }}:{{ candidate.voter.user.first_name }} {{ candidate.voter.user.last_name }}"
                                       id="treasurer-{{ forloop.counter }}">
                                <label for="treasurer-{{ forloop.counter }}"></label>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}
            <button id="voting-submit" type="button" onclick="showVote()">Submit my vote</button>

            <div id="overlay" onclick="removeHint()">
            </div>
            <div id="modal-read">
                <div class="takes-container">
                    <div class="info-container">
                        <div class="info-label"> Select an Issue</div>
                        <input type="hidden" id="associated-candidate" name="candidate" value="">
                        <select class="info-input" name="take-issue" id="issue-dropdown"
                                onchange="change_take('{{ csrf_token }}')">
                            {% for issue in issues %}
                                <option>{{ issue.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div id="modal__content-read">
                    <div>
                        <blockquote class="blue" id="response-modal">
                        </blockquote>
                    </div>
                </div>
            </div>

            <div id="vote-modal">
                <div id="vote-summary">
                    {% if batch_board %}
                        <div class="candidate-row">
                            <div class="candidate-position">Batch President</div>
                            <div class="candidate-person" id="batch-president-summary"></div>
                        </div>
                        <div class="candidate-row">
                            <div class="candidate-position">Batch Vice President</div>
                            <div class="candidate-person" id="batch-vice-president-summary"></div>
                        </div>
                        <div class="candidate-row">
                            <div class="candidate-position">LA Representative</div>
                            <div class="candidate-person" id="legislative-assembly-representative-summary"></div>
                        </div>
                    {% endif %}
                    {% if college_board %}
                        <div class="candidate-row">
                            <div class="candidate-position">College President</div>
                            <div class="candidate-person" id="college-president-summary"></div>
                        </div>
                    {% endif %}
                    {% if executive_board %}
                        <div class="candidate-row">
                            <div class="candidate-position">President</div>
                            <div class="candidate-person" id="president-summary"></div>
                        </div>
                        <div class="candidate-row">
                            <div class="candidate-position">Vice President for Internal Affairs</div>
                            <div class="candidate-person" id="vice-president-internal-summary"></div>
                        </div>
                        <div class="candidate-row">
                            <div class="candidate-position">Vice President for External Affairs</div>
                            <div class="candidate-person" id="vice-president-external-summary"></div>
                        </div>
                        <div class="candidate-row">
                            <div class="candidate-position">Secretary</div>
                            <div class="candidate-person" id="secretary-summary"></div>
                        </div>
                        <div class="candidate-row">
                            <div class="candidate-position">Treasurer</div>
                            <div class="candidate-person" id="treasurer-summary"></div>
                        </div>
                        <div id="summary-confirm" class="clearfix">
                            <button type="button" id="cancel" onclick="closeModal(event)">Revise my votes</button>
                            <input type="submit" id="confirm" value="Confirm my submission"/>
                        </div>
                    {% endif %}
                </div>
            </div>
        </form>
    </div>
</div>
</body>
</html>